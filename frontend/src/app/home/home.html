<!--declare dialogs here-->
<RConnectionDlg></RConnectionDlg>
<CreateProjectDialog></CreateProjectDialog>
<OpenProjectDlg></OpenProjectDlg>
<DefinedColumnsTableDlg></DefinedColumnsTableDlg>
<FilePathDlg></FilePathDlg>
<SaveAsProjectDlg></SaveAsProjectDlg>
<ResetProjectDlg></ResetProjectDlg>
<CloseProjectDlg></CloseProjectDlg>
<div class="navbar d-flex" style="height:3rem; z-index:100; flex-wrap: nowrap;">
	<div class="stox-logo" style="height:100%; display:inline-block;">
		<img src="./assets/images/stox.svg" style="height:100%;width:100px;display:inline-block;">
		<span
			style="margin-left:30px;display:inline;font-size:1.0rem;font-weight:bold; vertical-align: bottom; color:#4d6277">{{stoxVersion}}
			<sub style="font-size:0.6rem;">RstoxAPI {{ps.rstoxAPIVersion}}</sub></span>
	</div>
	<div class="flex-grow-1" style="height:100%;">
	</div>
	<!--<svg height="35" width="100px">
		<defs>
			<linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
				<stop offset="0%" style="stop-color:#5ba2e9;stop-opacity:1" />
				<stop offset="100%" style="stop-color:#2e4861;stop-opacity:1" />
			</linearGradient>
		</defs>
		<ellipse cx="60" cy="16" rx="60" ry="16" fill="url(#grad1)" />
		<text fill="#ffffff" font-size="25" font-family="Verdana" x="30" y="25">3.0.9</text>
	</svg>-->
	<p-menu #menu popup="popup" [model]="items">
	</p-menu>
	<button type="button" style="margin-left:4px; padding:2px !important;" (click)="ps.save()" pButton icon="pi pi-save"
		[disabled]="ps.selectedProject == null ||  ps.selectedProject.saved">

	</button>
	<button type="button" style="margin-left:4px;" (click)="menu.toggle($event)" pButton icon="pi pi-bars"></button>
	<!--<button type="button" class="btn btn-danger">bootstrap</button>-->
</div>
<div style="height: calc(100vh - 3rem);">
	<as-split direction="horizontal" gutterSize=6>
		<as-split-area size="25">
			<as-split direction="vertical" gutterSize=6>
				<as-split-area size=30 style="overflow:hidden">
					<app-project></app-project>
				</as-split-area>
				<as-split-area size=70 style="overflow:hidden;">
					<div style="height:1.2rem; width:100%;">
						<app-model></app-model>
					</div>
					<div style="height:1.7rem; width:100%;">
						<app-run></app-run>
					</div>
					<div style="height: calc(100% - (1.2rem + 1.7rem)); width:100%;">
						<app-process></app-process>
					</div>
				</as-split-area>
			</as-split>
		</as-split-area>
		<as-split-area size="55">
			<as-split direction="vertical" gutterSize=6>
				<as-split-area size="75">
					<app-map class="map"></app-map>
				</as-split-area>
				<as-split-area size="25">
					<mat-tab-group [@.disabled]="true" #bottomTabGroup>
						<mat-tab label="User log">
							<userlog style="height:inherit; width:inherit;"></userlog>
						</mat-tab>
						<mat-tab label="Output">
							<output style="height:100%; width:100%;"></output>
						</mat-tab>
						<!--<mat-tab label="Graph"> </mat-tab>-->
						<mat-tab label="Stratum/PSU">
							<app-stratumpsu></app-stratumpsu>
						</mat-tab>
					</mat-tab-group>
					<!--					<p-tabView>
						<p-tabPanel header="User log">
							<userlog style="height:inherit; width:inherit;"></userlog>
						</p-tabPanel>
						<p-tabPanel header="Graph">
						</p-tabPanel>
						<p-tabPanel header="Output">
							<output style="height:100%; width:100%;"></output>
						</p-tabPanel>
						<p-tabPanel header="Stratum/PSU">
						</p-tabPanel>
					</p-tabView>-->
				</as-split-area>
			</as-split>
		</as-split-area>
		<as-split-area size="20">
			<as-split direction="vertical" gutterSize=6>
				<as-split-area size="70">
					<ExpressionBuilderDlg></ExpressionBuilderDlg>
					<QueryBuilderDlg></QueryBuilderDlg>
					<mat-tab-group #rightTabGroup> 
						<mat-tab label="{{getPropertiesHdr()}}">
							<app-parameter></app-parameter>
						</mat-tab>
						<mat-tab label="Distance table">
							<app-edsutable></app-edsutable>
						</mat-tab>
					</mat-tab-group>
				</as-split-area>
				<as-split-area size="50">
					<!-- <p>Parameter description</p> -->
					<app-help></app-help>
				</as-split-area>
			</as-split>
		</as-split-area>
	</as-split>
</div>